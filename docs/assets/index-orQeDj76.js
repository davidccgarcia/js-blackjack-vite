(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();let s=[];const f=["C","D","H","S"],y=["A","J","Q","K"];let a=[];const c=document.querySelector("#btnPedir"),i=document.querySelector("#btnDetener"),C=document.querySelector("#btnNuevo"),p=document.querySelectorAll(".divCartas"),m=document.querySelectorAll("small"),L=t=>t.sort(()=>Math.random()-.5),v=(t=2)=>{s=N(),a=[];for(let e=0;e<t;e++)a.push(0);m.forEach(e=>e.innerText=0),p.forEach(e=>e.innerHTML=""),c.disabled=!1,i.disabled=!1},N=()=>{s=[];for(let t=2;t<=10;t++)for(let e of f)s.push(t+e);for(let t of f)for(let e of y)s.push(e+t);return L(s)},g=()=>{if(s.length===0)throw"No hay cartas en el deck";return s.pop()},E=t=>{const e=t.substring(0,t.length-1);return isNaN(e)?e==="A"?11:10:e*1},h=(t,e)=>(a[e]+=E(t),m[e].innerText=a[e],a[e]),b=(t,e)=>{const n=document.createElement("img");n.src=`assets/cartas/${t}.png`,n.classList.add("carta"),n.alt="carta",p[e].append(n)},P=()=>{let[t,e]=a;setTimeout(()=>{e===t?alert("Nadie gana :("):t>21?alert("Computadora Gana!"):e>21?alert("Jugador Gana!"):alert("Computadora gana!")},30)},d=t=>{let e=0;do{const n=g();e=h(n,a.length-1),b(n,a.length-1)}while(e<t&&t<=21);P()};c.addEventListener("click",()=>{const t=g(),e=h(t,0);b(t,0),e>21?(console.warn("Lo siento mucho, perdiste!"),c.disabled=!0,i.disabled=!0,d(e)):e===21&&(console.warn("21, Genial!"),c.disabled=!0,i.disabled=!0,d(e))});i.addEventListener("click",()=>{c.disabled=!0,i.disabled=!0,d(a[0])});C.addEventListener("click",()=>{v()});
